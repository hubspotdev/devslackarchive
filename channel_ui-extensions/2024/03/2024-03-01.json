[
  {
    "poster": {
      "poster_name": "Johannes",
      "poster_handle": "johannes.kaupe"
    },
    "time_stamp": "2024-03-01 06:40:38",
    "text": "This would be huge - for instance, in the <https://github.com/HubSpot/ui-extensions-examples/tree/main/generate-quotes|Generate quotes sample>, after creating a new quote, you'll be taken to the quote table; but without the newly created quote being shown <@U03FJQPSC0Y>"
  },
  {
    "poster": {
      "poster_name": "Roger Brown",
      "poster_handle": "robrown"
    },
    "time_stamp": "2024-03-01 07:00:00",
    "text": ":mega: :alert: *Update your developer projects version and convert JSON-based cards by March 31, 2024* :alert:\n\nStarting Mar 31, 2024, JSON-based UI extensions, new project builds with platformVersion 2023.1, and projects with unspecified versions will no longer be supported. Please update your project to the latest version and convert any existing JSON-based cards to React. For more info, see <https://developers.HubSpot.com/docs/platform/platform-versioning|Projects platform versioning (BETA)>.",
    "reply_count": 2,
    "reply_users_count": 2,
    "replies": [
      {
        "time_stamp": "2024-03-05 02:02:50"
      },
      {
        "time_stamp": "2024-03-05 07:57:39"
      }
    ]
  },
  {
    "text": "Hi guys,\n\nI’m building a card that uses Puppeteer. On dev environment, it works fine but when I deploy to production, I get this issue.\n\nKnown work arounds include launching the browser with these options but nothing works.\n`const browser = await puppeteer.launch({`\n            `headless: \"new\",` \n           \n          `//  headless: true,` \n         `//   executablePath: `/usr/bin/google-chrome`, or` \n            `args: [`--no-sandbox`, `--headless`, `--disable-gpu`, `--disable-dev-shm-usage`],` \n        `//    ignoreDefaultArgs: ['--disable-extensions'],`\n        `});`\n\nPlease what am I missing? <@U04EJHVD8FM>",
    "time_stamp": "2024-03-01 07:30:01",
    "edited": {
      "time_stamp": "2024-03-01 07:32:52"
    },
    "reply_count": 44,
    "reply_users_count": 4,
    "replies": [
      {
        "time_stamp": "2024-03-01 08:23:03"
      },
      {
        "time_stamp": "2024-03-01 08:26:58"
      },
      {
        "time_stamp": "2024-03-01 08:29:26"
      },
      {
        "time_stamp": "2024-03-01 08:30:30"
      },
      {
        "time_stamp": "2024-03-01 08:31:04"
      },
      {
        "time_stamp": "2024-03-01 08:31:56"
      },
      {
        "time_stamp": "2024-03-01 08:32:18"
      },
      {
        "time_stamp": "2024-03-01 08:32:28"
      },
      {
        "time_stamp": "2024-03-01 08:32:36"
      },
      {
        "time_stamp": "2024-03-01 08:33:15"
      },
      {
        "time_stamp": "2024-03-01 08:33:19"
      },
      {
        "time_stamp": "2024-03-01 08:34:03"
      },
      {
        "time_stamp": "2024-03-01 08:35:15"
      },
      {
        "time_stamp": "2024-03-01 08:35:29"
      },
      {
        "time_stamp": "2024-03-01 08:37:16"
      },
      {
        "time_stamp": "2024-03-01 08:37:53"
      },
      {
        "time_stamp": "2024-03-01 08:38:09"
      },
      {
        "time_stamp": "2024-03-01 08:38:19"
      },
      {
        "time_stamp": "2024-03-01 08:38:56"
      },
      {
        "time_stamp": "2024-03-01 08:39:56"
      },
      {
        "time_stamp": "2024-03-01 08:40:23"
      },
      {
        "time_stamp": "2024-03-01 08:49:07"
      },
      {
        "time_stamp": "2024-03-01 08:49:29"
      },
      {
        "time_stamp": "2024-03-01 08:49:53"
      },
      {
        "time_stamp": "2024-03-01 08:51:17"
      },
      {
        "time_stamp": "2024-03-01 09:38:09"
      },
      {
        "time_stamp": "2024-03-01 09:40:36"
      },
      {
        "time_stamp": "2024-03-01 09:46:07"
      },
      {
        "time_stamp": "2024-03-01 09:47:07"
      },
      {
        "time_stamp": "2024-03-01 09:51:34"
      },
      {
        "time_stamp": "2024-03-01 09:54:34"
      },
      {
        "time_stamp": "2024-03-01 09:55:52"
      },
      {
        "time_stamp": "2024-03-02 01:40:11"
      },
      {
        "time_stamp": "2024-03-04 08:15:45"
      },
      {
        "time_stamp": "2024-03-04 08:17:08"
      },
      {
        "time_stamp": "2024-05-08 11:17:45"
      },
      {
        "time_stamp": "2024-05-08 12:03:00"
      },
      {
        "time_stamp": "2024-05-08 12:03:57"
      },
      {
        "time_stamp": "2024-05-08 12:05:29"
      },
      {
        "time_stamp": "2024-05-08 12:05:38"
      },
      {
        "time_stamp": "2024-05-08 12:06:11"
      },
      {
        "time_stamp": "2024-05-08 12:06:45"
      },
      {
        "time_stamp": "2024-05-08 12:10:08"
      },
      {
        "time_stamp": "2024-05-08 12:10:34"
      }
    ]
  },
  {
    "poster": {
      "poster_name": "Tamara Yu",
      "poster_handle": "tyu"
    },
    "time_stamp": "2024-03-01 08:23:03",
    "text": "Hi <@U03BVLC2LDN>, we intentionally expose a limited set of APIs to UI extensions. Browser automation APIs like puppeteer don't work in production because of their security implications. Could you tell us a bit more about your use case? Maybe there's a different approach we could explore."
  },
  {
    "poster": {
      "poster_name": "Ayoola Animashaun",
      "poster_handle": "aanimashaun"
    },
    "time_stamp": "2024-03-01 08:26:58",
    "text": "Getting a page’s html to use as a PDF template to export data from a record. I’ll think since the cards are used within HubSpot, there is low risk of security breach? Access keys are stored in environment, and the page is public. Please this is critical to the solution."
  },
  {
    "poster": {
      "poster_name": "Tamara Yu",
      "poster_handle": "tyu"
    },
    "time_stamp": "2024-03-01 08:29:26",
    "text": "So you want to get the HTML of the whole HubSpot record page that the card is embedded in?"
  },
  {
    "poster": {
      "poster_name": "Ayoola Animashaun",
      "poster_handle": "aanimashaun"
    },
    "time_stamp": "2024-03-01 08:30:30",
    "text": "No, an external page"
  },
  {
    "poster": {
      "poster_name": "Ayoola Animashaun",
      "poster_handle": "aanimashaun"
    },
    "time_stamp": "2024-03-01 08:31:04",
    "edited": {
      "time_stamp": "2024-03-01 08:31:25"
    },
    "text": "If I had a template at a page… I want to grab the html, combine with data records and present a PDF to a user"
  },
  {
    "poster": {
      "poster_name": "Tamara Yu",
      "poster_handle": "tyu"
    },
    "time_stamp": "2024-03-01 08:31:56",
    "text": "Oh I see. Can you fetch that page through an app function then?"
  },
  {
    "poster": {
      "poster_name": "Ayoola Animashaun",
      "poster_handle": "aanimashaun"
    },
    "time_stamp": "2024-03-01 08:32:18",
    "text": "App function?"
  },
  {
    "poster": {
      "poster_name": "Tamara Yu",
      "poster_handle": "tyu"
    },
    "time_stamp": "2024-03-01 08:32:28",
    "text": "serverless function"
  },
  {
    "poster": {
      "poster_name": "Ayoola Animashaun",
      "poster_handle": "aanimashaun"
    },
    "time_stamp": "2024-03-01 08:32:36",
    "text": "That is what I am doing"
  },
  {
    "poster": {
      "poster_name": "Tamara Yu",
      "poster_handle": "tyu"
    },
    "time_stamp": "2024-03-01 08:33:15",
    "edited": {
      "time_stamp": "2024-03-01 08:33:17"
    },
    "text": "oh i see, you want to use a borwser window created by puppeteer to render the HTML"
  },
  {
    "poster": {
      "poster_name": "Ayoola Animashaun",
      "poster_handle": "aanimashaun"
    },
    "time_stamp": "2024-03-01 08:33:19",
    "text": "The serverless function is returning the error in the screenshot when I deploy to production"
  },
  {
    "poster": {
      "poster_name": "Ayoola Animashaun",
      "poster_handle": "aanimashaun"
    },
    "time_stamp": "2024-03-01 08:34:03",
    "text": "It doesnt open a browser window in the sense that we know.. It’s using headless"
  },
  {
    "poster": {
      "poster_name": "Sejal Parikh (HubSpot PM)",
      "poster_handle": "sparikh"
    },
    "time_stamp": "2024-03-01 08:34:17",
    "text": "Hi Elise, can you tell me what do you mean by CRM file attachment? Is that the attachment on the record page or something different?"
  },
  {
    "poster": {
      "poster_name": "Tamara Yu",
      "poster_handle": "tyu"
    },
    "time_stamp": "2024-03-01 08:35:15",
    "text": "Rendering arbitrary HTML in the UI extension is not possible in the current model"
  },
  {
    "poster": {
      "poster_name": "Ayoola Animashaun",
      "poster_handle": "aanimashaun"
    },
    "time_stamp": "2024-03-01 08:35:29",
    "edited": {
      "time_stamp": "2024-03-01 08:36:45"
    },
    "text": "Not rendering… I want the raw html code"
  },
  {
    "poster": {
      "poster_name": "Tamara Yu",
      "poster_handle": "tyu"
    },
    "time_stamp": "2024-03-01 08:37:16",
    "text": "mm, I'm not understanding why `fetch(page_url, { content-type: 'text/html' })` in the serverless function wouldn't work"
  },
  {
    "poster": {
      "poster_name": "Ayoola Animashaun",
      "poster_handle": "aanimashaun"
    },
    "time_stamp": "2024-03-01 08:37:53",
    "text": "I still need Puppeteer to create a PDF from the html"
  },
  {
    "poster": {
      "poster_name": "Tamara Yu",
      "poster_handle": "tyu"
    },
    "time_stamp": "2024-03-01 08:38:09",
    "text": "ahh"
  },
  {
    "poster": {
      "poster_name": "Ayoola Animashaun",
      "poster_handle": "aanimashaun"
    },
    "time_stamp": "2024-03-01 08:38:19",
    "text": "(It wont be rendering the pdf either)"
  },
  {
    "poster": {
      "poster_name": "Tamara Yu",
      "poster_handle": "tyu"
    },
    "time_stamp": "2024-03-01 08:38:56",
    "text": "Puppeteer doesn't work in the app function because the serverless runtime environment doesn't have chrome installed"
  },
  {
    "poster": {
      "poster_name": "Tamara Yu",
      "poster_handle": "tyu"
    },
    "time_stamp": "2024-03-01 08:39:56",
    "text": "(and we don't allow UI extensions to control the user's chrome instance either)"
  },
  {
    "poster": {
      "poster_name": "Tamara Yu",
      "poster_handle": "tyu"
    },
    "time_stamp": "2024-03-01 08:40:23",
    "text": "I think you might have to set up a backend to do this"
  },
  {
    "poster": {
      "poster_name": "Sejal Parikh (HubSpot PM)",
      "poster_handle": "sparikh"
    },
    "time_stamp": "2024-03-01 08:43:03",
    "text": "<@U05UBGR3V8V> it looks like you want to listen in to the changes for associations for the parent object record. That's something we have been discussing too. What's your use case here?"
  },
  {
    "poster": {
      "poster_name": "Tamara Yu",
      "poster_handle": "tyu"
    },
    "time_stamp": "2024-03-01 08:49:07",
    "text": "I just did a bit of research for libraries to do HTML to PDF conversion, and they all seem to require a browser (which makes sense). You might have to do something like UI extensions --&gt; app function (HubSpot) --&gt; backend (3rd party hosting)"
  },
  {
    "poster": {
      "poster_name": "Carter McKay - Level 17",
      "poster_handle": "carter"
    },
    "time_stamp": "2024-03-01 08:49:29",
    "text": "I think you'll want to use a service like browserless for the browser hosting: <https://www.browserless.io/>"
  },
  {
    "poster": {
      "poster_name": "Carter McKay - Level 17",
      "poster_handle": "carter"
    },
    "time_stamp": "2024-03-01 08:49:53",
    "text": "<https://www.browserless.io/pdf-screenshot-screencast/>"
  },
  {
    "poster": {
      "poster_name": "Tamara Yu",
      "poster_handle": "tyu"
    },
    "time_stamp": "2024-03-01 08:51:17",
    "text": "Good suggestions <@U01QVR44MEY>!"
  },
  {
    "poster": {
      "poster_name": "Daniel Beitler",
      "poster_handle": "dan445"
    },
    "time_stamp": "2024-03-01 09:26:55",
    "text": "<@U03FJQPSC0Y> my specific use case is this:\nWe have a custom workflow-based integration with a 3rd party ERP system. Deals must be \"configured\" in a certain way for the ERP to handle them: Contacts/Companies have to be associated to the deal with certain labels (for instance, this allows you to set which entity is the sold-to vs the ship-to party). And other custom objects have to be associated, etc.\nThe sales users frequently make mistakes setting up these deals, so we added an extension that verifies if the deal is compatible with the ERP system requirements, and can display error messages if needed. For example \"Hey, this deal doesn't have a company or contact with a Ship-To label. Please check before continuing\".\nNow when the user changes the associations or assoc.labels to correct any such error, it would be very helpful if the extension could receive a notification so it can trigger an automatic refresh. Right now we have a \"Refresh\" button that the user must click manually."
  },
  {
    "poster": {
      "poster_name": "Ayoola Animashaun",
      "poster_handle": "aanimashaun"
    },
    "time_stamp": "2024-03-01 09:38:09",
    "text": "Thanks <@U01QVR44MEY>\n\nAlready explored this option… Pricing doesn’t work for this volume"
  },
  {
    "poster": {
      "poster_name": "Carter McKay - Level 17",
      "poster_handle": "carter"
    },
    "time_stamp": "2024-03-01 09:40:36",
    "text": "you can selfhost: <https://github.com/browserless/browserless>"
  },
  {
    "poster": {
      "poster_name": "Ayoola Animashaun",
      "poster_handle": "aanimashaun"
    },
    "time_stamp": "2024-03-01 09:46:07",
    "text": "Yeah, trying to avoid doing any self hosting…"
  },
  {
    "poster": {
      "poster_name": "Carter McKay - Level 17",
      "poster_handle": "carter"
    },
    "time_stamp": "2024-03-01 09:47:07",
    "text": "I would say that's a little bit tough, you don't want to pay for someone to host it but you don't want to host it yourself."
  },
  {
    "poster": {
      "poster_name": "Carter McKay - Level 17",
      "poster_handle": "carter"
    },
    "time_stamp": "2024-03-01 09:51:34",
    "text": "maybe this: <https://www.api2pdf.com/>"
  },
  {
    "poster": {
      "poster_name": "Ayoola Animashaun",
      "poster_handle": "aanimashaun"
    },
    "time_stamp": "2024-03-01 09:54:34",
    "text": "Traffic volume does not warrant the extra investment… Would check for cheaper options or use the backend…"
  },
  {
    "poster": {
      "poster_name": "Ayoola Animashaun",
      "poster_handle": "aanimashaun"
    },
    "time_stamp": "2024-03-01 09:55:52",
    "text": "Api2pdf looks good"
  }
]
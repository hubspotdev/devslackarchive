[
  {
    "poster": {
      "poster_name": "Andrey Kondratyuk",
      "poster_handle": "andrey"
    },
    "time_stamp": "2023-03-11 06:44:18",
    "text": "Hi, can someone please add the beta to another portal for me? Can wait until Monday but would be awesome to have earlier",
    "reply_count": 2,
    "reply_users_count": 2,
    "replies": [
      {
        "time_stamp": "2023-03-11 07:11:23"
      },
      {
        "time_stamp": "2023-03-11 07:11:43"
      }
    ]
  },
  {
    "poster": {
      "poster_name": "Timothy Finley",
      "poster_handle": "tfinley"
    },
    "time_stamp": "2023-03-11 07:11:23",
    "text": "You’re in luck, I’m online. Dm me the portal?"
  },
  {
    "poster": {
      "poster_name": "Andrey Kondratyuk",
      "poster_handle": "andrey"
    },
    "time_stamp": "2023-03-11 07:11:43",
    "text": "awesome, one sec"
  },
  {
    "poster": {
      "poster_name": "Andrey Kondratyuk",
      "poster_handle": "andrey"
    },
    "time_stamp": "2023-03-11 15:05:58",
    "text": "I can add additional imports and deploy right?"
  },
  {
    "poster": {
      "poster_name": "Andrey Kondratyuk",
      "poster_handle": "andrey"
    },
    "time_stamp": "2023-03-11 15:06:29",
    "text": "I'm getting this error:\n```   Mar 11 5:04:33PM  Error [ERR_MODULE_NOT_FOUND]: Cannot find package '@tailwindcss/forms' imported from /tmp/cms_0nNhZt/cms-js-build/customer-package/tailwind.config.js```\n"
  },
  {
    "poster": {
      "poster_name": "Andrey Kondratyuk",
      "poster_handle": "andrey"
    },
    "time_stamp": "2023-03-11 15:06:53",
    "text": "does it need to be a regular dependency and not devDependency?"
  },
  {
    "poster": {
      "poster_name": "Andrey Kondratyuk",
      "poster_handle": "andrey"
    },
    "time_stamp": "2023-03-11 15:22:44",
    "text": "I moved it to dependencies and that maybe worked, but now I'm getting this error (see thread)",
    "reply_count": 1,
    "reply_users_count": 1,
    "replies": [
      {
        "time_stamp": "2023-03-11 15:22:48"
      }
    ]
  },
  {
    "poster": {
      "poster_name": "Andrey Kondratyuk",
      "poster_handle": "andrey"
    },
    "time_stamp": "2023-03-11 15:22:48",
    "text": "```  Mar 11 5:19:16PM  Archiving and Zipping Project Source\n  Mar 11 5:19:17PM  Uploading Project Source Archive\n  Mar 11 5:20:27PM  \"default\" is imported from external module \"react\" but never used in \"customer-package/components/modules/JobBoard/fields.jsx\", \"customer-package/components/modules/Job/fields.jsx\", \"customer-package/components/islands/JobBoard.jsx\" and \"customer-package/components/islands/Job.jsx\".\n  Mar 11 5:20:27PM  (node:76) ExperimentalWarning: VM Modules is an experimental feature. This feature could change at any time\n  Mar 11 5:20:27PM  (Use `node --trace-warnings ...` to show where the warning was created)\n  Mar 11 5:20:27PM  [resolve-modules] Dynamic require of \"react\" is not supported\n  Mar 11 5:20:27PM  file:///tmp/cms_kiQjiL/cms-js-build/node_modules/rollup/dist/es/shared/node-entry.js:2125\n  Mar 11 5:20:27PM          base = Object.assign(new Error(base.message), base);\n  Mar 11 5:20:27PM                               ^\n  Mar 11 5:20:27PM  \n  Mar 11 5:20:27PM  Error [RollupError]: Dynamic require of \"react\" is not supported\n  Mar 11 5:20:27PM      at error (file:///tmp/cms_kiQjiL/cms-js-build/node_modules/rollup/dist/es/shared/node-entry.js:2125:30)\n  Mar 11 5:20:27PM      at file:///tmp/cms_kiQjiL/cms-js-build/node_modules/rollup/dist/es/shared/node-entry.js:24369:20\n  Mar 11 5:20:27PM      at async Bundle.generate (file:///tmp/cms_kiQjiL/cms-js-build/node_modules/rollup/dist/es/shared/node-entry.js:17382:9)\n  Mar 11 5:20:27PM      at async file:///tmp/cms_kiQjiL/cms-js-build/node_modules/rollup/dist/es/shared/node-entry.js:25619:27\n  Mar 11 5:20:27PM      at async catchUnfinishedHookActions (file:///tmp/cms_kiQjiL/cms-js-build/node_modules/rollup/dist/es/shared/node-entry.js:24706:20)\n  Mar 11 5:20:27PM      at async build (file:///tmp/cms_kiQjiL/cms-js-build/node_modules/vite/dist/node/chunks/dep-ca21228b.js:44670:22)\n  Mar 11 5:20:27PM      at async Promise.all (index 1)\n  Mar 11 5:20:27PM      at async buildReactTheme (file:///tmp/cms_kiQjiL/cms-js-build/dist/run.js:663:3)\n  Mar 11 5:20:27PM      at async file:///tmp/cms_kiQjiL/cms-js-build/dist/run.js:697:1 {\n  Mar 11 5:20:27PM    code: 'PLUGIN_ERROR',\n  Mar 11 5:20:27PM    plugin: 'resolve-modules',\n  Mar 11 5:20:27PM    hook: 'generateBundle'\n  Mar 11 5:20:27PM  }\n  Mar 11 5:20:27PM  Build failure```\n"
  },
  {
    "poster": {
      "poster_name": "Andrey Kondratyuk",
      "poster_handle": "andrey"
    },
    "time_stamp": "2023-03-11 15:24:44",
    "text": "everything does work locally so it sounds like a weird error"
  },
  {
    "poster": {
      "poster_name": "Andrey Kondratyuk",
      "poster_handle": "andrey"
    },
    "time_stamp": "2023-03-11 17:41:07",
    "text": "I tried removing the extra tailwind plugins. Same error. I think it may be the account setup (needs a trial maybe?) ",
    "reply_count": 49,
    "reply_users_count": 2,
    "replies": [
      {
        "time_stamp": "2023-03-11 18:16:58"
      },
      {
        "time_stamp": "2023-03-11 18:17:11"
      },
      {
        "time_stamp": "2023-03-11 18:18:34"
      },
      {
        "time_stamp": "2023-03-11 18:19:51"
      },
      {
        "time_stamp": "2023-03-11 18:21:09"
      },
      {
        "time_stamp": "2023-03-11 18:22:04"
      },
      {
        "time_stamp": "2023-03-11 18:23:23"
      },
      {
        "time_stamp": "2023-03-11 18:23:35"
      },
      {
        "time_stamp": "2023-03-11 18:23:45"
      },
      {
        "time_stamp": "2023-03-11 18:23:51"
      },
      {
        "time_stamp": "2023-03-11 18:24:02"
      },
      {
        "time_stamp": "2023-03-11 18:25:16"
      },
      {
        "time_stamp": "2023-03-11 18:25:44"
      },
      {
        "time_stamp": "2023-03-11 18:25:48"
      },
      {
        "time_stamp": "2023-03-11 18:26:01"
      },
      {
        "time_stamp": "2023-03-11 18:26:57"
      },
      {
        "time_stamp": "2023-03-11 18:27:34"
      },
      {
        "time_stamp": "2023-03-11 18:27:59"
      },
      {
        "time_stamp": "2023-03-11 18:28:07"
      },
      {
        "time_stamp": "2023-03-11 18:29:02"
      },
      {
        "time_stamp": "2023-03-11 18:29:09"
      },
      {
        "time_stamp": "2023-03-11 18:29:20"
      },
      {
        "time_stamp": "2023-03-11 18:32:47"
      },
      {
        "time_stamp": "2023-03-11 18:36:40"
      },
      {
        "time_stamp": "2023-03-11 18:37:07"
      },
      {
        "time_stamp": "2023-03-11 18:38:59"
      },
      {
        "time_stamp": "2023-03-11 18:40:10"
      },
      {
        "time_stamp": "2023-03-11 18:40:27"
      },
      {
        "time_stamp": "2023-03-11 18:40:53"
      },
      {
        "time_stamp": "2023-03-11 18:41:17"
      },
      {
        "time_stamp": "2023-03-11 18:43:20"
      },
      {
        "time_stamp": "2023-03-11 19:05:44"
      },
      {
        "time_stamp": "2023-03-11 19:07:40"
      },
      {
        "time_stamp": "2023-03-11 19:29:14"
      },
      {
        "time_stamp": "2023-03-11 19:29:28"
      },
      {
        "time_stamp": "2023-03-11 19:30:14"
      },
      {
        "time_stamp": "2023-03-11 19:35:53"
      },
      {
        "time_stamp": "2023-03-11 19:36:28"
      },
      {
        "time_stamp": "2023-03-11 19:36:42"
      },
      {
        "time_stamp": "2023-03-11 19:37:14"
      },
      {
        "time_stamp": "2023-03-11 20:55:01"
      },
      {
        "time_stamp": "2023-03-12 04:15:07"
      },
      {
        "time_stamp": "2023-03-12 04:15:28"
      },
      {
        "time_stamp": "2023-03-12 04:15:35"
      },
      {
        "time_stamp": "2023-03-12 04:15:47"
      },
      {
        "time_stamp": "2023-03-12 06:13:21"
      },
      {
        "time_stamp": "2023-03-12 06:24:10"
      },
      {
        "time_stamp": "2023-03-12 06:24:24"
      },
      {
        "time_stamp": "2023-03-12 06:27:47"
      }
    ]
  },
  {
    "poster": {
      "poster_name": "Timothy Finley",
      "poster_handle": "tfinley"
    },
    "time_stamp": "2023-03-11 18:16:58",
    "text": "Is it still the same error as <https://HubSpotdev.slack.com/archives/C04AY1H2204/p1678573368874799?thread_ts=1678573364.649719&amp;cid=C04AY1H2204> ?\n\n&gt; ```Dynamic require of \"react\" is not supported```\n"
  },
  {
    "poster": {
      "poster_name": "Timothy Finley",
      "poster_handle": "tfinley"
    },
    "time_stamp": "2023-03-11 18:17:11",
    "text": "Will try to look more soon"
  },
  {
    "poster": {
      "poster_name": "Timothy Finley",
      "poster_handle": "tfinley"
    },
    "time_stamp": "2023-03-11 18:18:34",
    "text": "Could you send me your `package.json` ?"
  },
  {
    "poster": {
      "poster_name": "Andrey Kondratyuk",
      "poster_handle": "andrey"
    },
    "time_stamp": "2023-03-11 18:19:51",
    "text": "yea, one sec"
  },
  {
    "poster": {
      "poster_name": "Andrey Kondratyuk",
      "poster_handle": "andrey"
    },
    "time_stamp": "2023-03-11 18:21:09",
    "text": "same error"
  },
  {
    "poster": {
      "poster_name": "Timothy Finley",
      "poster_handle": "tfinley"
    },
    "time_stamp": "2023-03-11 18:22:04",
    "text": "K, got it. To help narrow things down do you know if any of these dependencies are new in this build/project that were not in your last one (react-select? html-react-parser? others?)"
  },
  {
    "poster": {
      "poster_name": "Andrey Kondratyuk",
      "poster_handle": "andrey"
    },
    "time_stamp": "2023-03-11 18:23:23",
    "text": "yea, compared to the other project, the new ones are:\n• react-select\n• html-react-parser\n"
  },
  {
    "poster": {
      "poster_name": "Andrey Kondratyuk",
      "poster_handle": "andrey"
    },
    "time_stamp": "2023-03-11 18:23:35",
    "text": "oh, and I want to include\n`\"@tailwindcss/forms\": \"^0.5.3\",\n    \"@tailwindcss/typography\": \"^0.5.9\",`"
  },
  {
    "poster": {
      "poster_name": "Andrey Kondratyuk",
      "poster_handle": "andrey"
    },
    "time_stamp": "2023-03-11 18:23:45",
    "text": "removed from config, but not from package.json"
  },
  {
    "poster": {
      "poster_name": "Andrey Kondratyuk",
      "poster_handle": "andrey"
    },
    "time_stamp": "2023-03-11 18:23:51",
    "text": "let me try removing there too"
  },
  {
    "poster": {
      "poster_name": "Andrey Kondratyuk",
      "poster_handle": "andrey"
    },
    "time_stamp": "2023-03-11 18:24:02",
    "text": "those are not supported right?"
  },
  {
    "poster": {
      "poster_name": "Timothy Finley",
      "poster_handle": "tfinley"
    },
    "time_stamp": "2023-03-11 18:25:16",
    "text": "I think we encountered a new cjs (old `require('…')` ) and esm (`import … from …`) interpo issue we haven’t seen before :thinking_face:"
  },
  {
    "poster": {
      "poster_name": "Andrey Kondratyuk",
      "poster_handle": "andrey"
    },
    "time_stamp": "2023-03-11 18:25:44",
    "text": "I set postcss.config to .js"
  },
  {
    "poster": {
      "poster_name": "Andrey Kondratyuk",
      "poster_handle": "andrey"
    },
    "time_stamp": "2023-03-11 18:25:48",
    "text": "and tailwind.config.js"
  },
  {
    "poster": {
      "poster_name": "Andrey Kondratyuk",
      "poster_handle": "andrey"
    },
    "time_stamp": "2023-03-11 18:26:01",
    "text": "I think because I had to when trying to include form + typography"
  },
  {
    "poster": {
      "poster_name": "Timothy Finley",
      "poster_handle": "tfinley"
    },
    "time_stamp": "2023-03-11 18:26:57",
    "edited": {
      "time_stamp": "2023-03-11 18:27:10"
    },
    "text": "My guess is that react-select or html-react-parser has a cjs file doing `require('react')` causing the problem outlined in <https://stackoverflow.com/questions/68423950/when-using-esbuild-with-external-react-i-get-dynamic-require-of-react-is-not-s>\n\nI’d hope that we could prevent this from happening on our side in the first place, but I’m more worried about just getting you unblocked right now"
  },
  {
    "poster": {
      "poster_name": "Andrey Kondratyuk",
      "poster_handle": "andrey"
    },
    "time_stamp": "2023-03-11 18:27:34",
    "text": "react-select is probably the more important of the 2"
  },
  {
    "poster": {
      "poster_name": "Timothy Finley",
      "poster_handle": "tfinley"
    },
    "time_stamp": "2023-03-11 18:27:59",
    "text": "K, let me try and look through some of the react-select code"
  },
  {
    "poster": {
      "poster_name": "Andrey Kondratyuk",
      "poster_handle": "andrey"
    },
    "time_stamp": "2023-03-11 18:28:07",
    "text": "alright, I'll try too"
  },
  {
    "poster": {
      "poster_name": "Andrey Kondratyuk",
      "poster_handle": "andrey"
    },
    "time_stamp": "2023-03-11 18:29:02",
    "text": "if I set postcss.config and tailwind.config to `.cjs` I get a `cannot use import statement outside of a module`"
  },
  {
    "poster": {
      "poster_name": "Andrey Kondratyuk",
      "poster_handle": "andrey"
    },
    "time_stamp": "2023-03-11 18:29:09",
    "text": "I used `.js` in my other project"
  },
  {
    "poster": {
      "poster_name": "Andrey Kondratyuk",
      "poster_handle": "andrey"
    },
    "time_stamp": "2023-03-11 18:29:20",
    "text": "(just trying to give you all the info)"
  },
  {
    "poster": {
      "poster_name": "Andrey Kondratyuk",
      "poster_handle": "andrey"
    },
    "time_stamp": "2023-03-11 18:32:47",
    "text": "I'll also remove the parse and see if that works, then we'll know it's probably the other or both"
  },
  {
    "poster": {
      "poster_name": "Andrey Kondratyuk",
      "poster_handle": "andrey"
    },
    "time_stamp": "2023-03-11 18:36:40",
    "text": "same error with html-react-parse removed"
  },
  {
    "poster": {
      "poster_name": "Andrey Kondratyuk",
      "poster_handle": "andrey"
    },
    "time_stamp": "2023-03-11 18:37:07",
    "text": "I guess just for sanity I can try building with an entirely stripped down version"
  },
  {
    "poster": {
      "poster_name": "Timothy Finley",
      "poster_handle": "tfinley"
    },
    "time_stamp": "2023-03-11 18:38:59",
    "text": "I’m trying to build something with react-select on my side now"
  },
  {
    "poster": {
      "poster_name": "Timothy Finley",
      "poster_handle": "tfinley"
    },
    "time_stamp": "2023-03-11 18:40:10",
    "text": "Yup, I got the same error as you. I think I know how to do a work-around fix (but I may need to come back after getting my kid in bed)"
  },
  {
    "poster": {
      "poster_name": "Andrey Kondratyuk",
      "poster_handle": "andrey"
    },
    "time_stamp": "2023-03-11 18:40:27",
    "text": "sounds good, I'll be around"
  },
  {
    "poster": {
      "poster_name": "Andrey Kondratyuk",
      "poster_handle": "andrey"
    },
    "time_stamp": "2023-03-11 18:40:53",
    "text": "thank you for your help + sorry this is happening on a weekend"
  },
  {
    "poster": {
      "poster_name": "Andrey Kondratyuk",
      "poster_handle": "andrey"
    },
    "time_stamp": "2023-03-11 18:41:17",
    "text": "sanity check: it does work without react-select so that's at least the only issue"
  },
  {
    "poster": {
      "poster_name": "Timothy Finley",
      "poster_handle": "tfinley"
    },
    "time_stamp": "2023-03-11 18:43:20",
    "text": "It’s OK. I think this is an easy-ish one"
  },
  {
    "poster": {
      "poster_name": "Timothy Finley",
      "poster_handle": "tfinley"
    },
    "time_stamp": "2023-03-11 19:05:44",
    "text": "Dang my first attempt to fix didn’t. I’m going to have to come back to this later Andrey. Will hopefully send an update later tonight"
  },
  {
    "poster": {
      "poster_name": "Andrey Kondratyuk",
      "poster_handle": "andrey"
    },
    "time_stamp": "2023-03-11 19:07:40",
    "text": "ok, thank you, very much appreciated!"
  },
  {
    "poster": {
      "poster_name": "Timothy Finley",
      "poster_handle": "tfinley"
    },
    "time_stamp": "2023-03-11 19:29:14",
    "text": "Pushing one more quick hack to prod. I did manage to get my own test project with react-select to build, but did not have any time to check if everything else actually worked."
  },
  {
    "poster": {
      "poster_name": "Timothy Finley",
      "poster_handle": "tfinley"
    },
    "time_stamp": "2023-03-11 19:29:28",
    "text": "So, :crossed_fingers: it’s good? (Will check back later)"
  },
  {
    "poster": {
      "poster_name": "Andrey Kondratyuk",
      "poster_handle": "andrey"
    },
    "time_stamp": "2023-03-11 19:30:14",
    "text": "alright, I'll try now"
  },
  {
    "poster": {
      "poster_name": "Andrey Kondratyuk",
      "poster_handle": "andrey"
    },
    "time_stamp": "2023-03-11 19:35:53",
    "text": "the build worked!"
  },
  {
    "poster": {
      "poster_name": "Andrey Kondratyuk",
      "poster_handle": "andrey"
    },
    "time_stamp": "2023-03-11 19:36:28",
    "text": "but just before you messaged, when I tried to add the old module (without react-select) it would throw this error in the page editor:\n```An error occurred updating a module\nPlease click 'Apply changes', try again, or investigate if the 'Job Board Module' module has any errors.```\n"
  },
  {
    "poster": {
      "poster_name": "Andrey Kondratyuk",
      "poster_handle": "andrey"
    },
    "time_stamp": "2023-03-11 19:36:42",
    "text": "same thing for the working with react-select module"
  },
  {
    "poster": {
      "poster_name": "Andrey Kondratyuk",
      "poster_handle": "andrey"
    },
    "time_stamp": "2023-03-11 19:37:14",
    "text": "do I need to add via HubL or something like that?"
  },
  {
    "poster": {
      "poster_name": "Timothy Finley",
      "poster_handle": "tfinley"
    },
    "time_stamp": "2023-03-11 20:55:01",
    "text": "Yeah. That “error updating” issue is still there and not fixed for JS modules in D&amp;D areas yet. (Fixing JS modules in D&amp;D areas is in in-progress but not released yet :cry: )"
  }
]
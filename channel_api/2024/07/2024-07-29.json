[
  {
    "poster": {
      "poster_name": "Sourav Kundu",
      "poster_handle": "sourav.kundu"
    },
    "time_stamp": "2024-07-29 02:51:49",
    "text": "Hey everyone,\n\nJust following up on my previous post regarding the issue with tracking Google and Facebook leads after the recent API shift. We haven't received any feedback yet and would really appreciate your insights or suggestions on how to resolve this. Has anyone else faced similar issues or found a workaround?\n\nThanks in advance for your help!"
  },
  {
    "poster": {
      "poster_name": "Dean Winc",
      "poster_handle": "mahi"
    },
    "time_stamp": "2024-07-29 03:34:22",
    "text": "<@U07ENGRHVCG> were u able to resolve your API issue ?"
  },
  {
    "poster": {
      "poster_name": "Amir Oppenheim",
      "poster_handle": "amir.oppenheim"
    },
    "time_stamp": "2024-07-29 04:57:31",
    "text": "Hey,\nI'm using an api call to fetch all users of a specific team `/settings/v3/users/teams` and yet it doesn't fetch all of the users in the team... am I missing something?"
  },
  {
    "poster": {
      "poster_name": "Robert Nagy",
      "poster_handle": "robert.nagy"
    },
    "time_stamp": "2024-07-29 06:09:57",
    "text": "Not really. I am looking to make a connection between `Content ID` aka `_hsmi` parameter and `Marketing Email ID` to join a human readable label onto the `_hsmi` value."
  },
  {
    "text": "Hello Everyone.\nI'm working on integrating HubSpot with our finance system (SunSystems) to be able to retrieve invoices from HubSpot, process them in the financial system, and send back invoice updates back to HubSpot (e.g. status - mark as done/paid/voided, invoice details, PDF copy, etc.)\n\nCurrent challenges:\n• It seems there are no invoice related webhook we could use as trigger - to notify the finance system that a new invoice has been created in HubSpot.\n• The invoice APIs are currently read-only. \nAny thoughts on a workaround?\nThanks!",
    "time_stamp": "2024-07-29 07:14:44",
    "reply_count": 1,
    "reply_users_count": 1,
    "replies": [
      {
        "time_stamp": "2024-07-29 08:21:24"
      }
    ]
  },
  {
    "poster": {
      "poster_name": "Ty Hudson",
      "poster_handle": "ty688"
    },
    "time_stamp": "2024-07-29 08:19:59",
    "text": "My app URL keeps getting unverified after I verify the domain. I am assuming that is because it's <http://HubSpotpayments.com|HubSpotpayments.com> and you're not going to let me call my app that?"
  },
  {
    "poster": {
      "poster_name": "Ty Hudson",
      "poster_handle": "ty688"
    },
    "time_stamp": "2024-07-29 08:21:24",
    "text": "Same I have a call about that in an hour."
  },
  {
    "poster": {
      "poster_name": "Chris Buckingham",
      "poster_handle": "cbuckingham"
    },
    "time_stamp": "2024-07-29 08:55:00",
    "text": "Hi,\nDoing a search with \"curl --location '<https://api.HubSpot.com/crm/v3/objects/contacts/search>'  \". How would I change # of results returned or baring that how do i select page 2 of results?",
    "reply_count": 2,
    "reply_users_count": 2,
    "replies": [
      {
        "time_stamp": "2024-07-29 09:10:10"
      },
      {
        "time_stamp": "2024-07-29 09:17:02"
      }
    ]
  },
  {
    "poster": {
      "poster_name": "Scott Marion",
      "poster_handle": "scott943"
    },
    "time_stamp": "2024-07-29 09:10:10",
    "text": "limit and paging: <https://community.HubSpot.com/t5/APIs-Integrations/CRM-Search-API-return-limit-paging/m-p/651150>"
  },
  {
    "poster": {
      "poster_name": "Chris Buckingham",
      "poster_handle": "cbuckingham"
    },
    "time_stamp": "2024-07-29 09:17:02",
    "text": "That worked, thanks much :)"
  },
  {
    "time_stamp": "2024-07-29 10:00:27",
    "text": "Reminder: *Want to be the first to know when a new API is available or an existing API has a new version?*  We publish all of that on our <https://developers.HubSpot.com/changelog|Developer Changelog>.  While we do our best to avoid <https://developers.HubSpot.com/docs/breaking-change-definition|breaking changes> to our APIs, sometimes for security, and reliability we have to. The Changelog is where we’ll post announcements ahead of time about it. <https://developers.HubSpot.com/changelog|Subscribe to the Developer Changelog> to stay up-to-date on what’s happening in the world of HubSpot development."
  },
  {
    "poster": {
      "poster_name": "Tiago Sabino Venancio Nascimento",
      "poster_handle": "tiago.nascimento"
    },
    "time_stamp": "2024-07-29 11:08:19",
    "text": "Hello!\nI am making an API that only works if I cast the decimal to integer, but I need the data in decimal. I try to change, to cast, to round, but it not works. Someone know what is going on? The property in Hub is a currency number.\n\nThank you, guys!\n~the code is on the thread~",
    "reply_count": 1,
    "reply_users_count": 1,
    "replies": [
      {
        "time_stamp": "2024-07-29 11:09:43"
      }
    ]
  },
  {
    "poster": {
      "poster_name": "Tiago Sabino Venancio Nascimento",
      "poster_handle": "tiago.nascimento"
    },
    "time_stamp": "2024-07-29 11:09:43",
    "text": "# Execute the query and get the DataFrame\nescolas_df = spark.sql(query)\n\n# Fill null values with 0 before conversion\nescolas_df = escolas_df.fillna({\n    \"faturamento_bruto___total\": 0,\n    \"devolvido_bruto___total\": 0,\n    \"pagos___total\": 0,\n    \"estornos\": 0,\n    \"liquido___total\": 0,\n    \"faturamento_bruto___24_2\": 0,\n    \"devolvido_bruto___24_2\": 0,\n    \"faturamento_liquido___24_2\": 0\n})\n\n# Convert decimal values to integers (remove the decimal part)\ndecimal_columns = [\n    \"faturamento_bruto___total\",\n    \"devolvido_bruto___total\",\n    \"liquido___total\",\n    \"faturamento_bruto___24_2\",\n    \"devolvido_bruto___24_2\",\n    \"faturamento_liquido___24_2\"\n]\n\nfor col_name in decimal_columns:\n    escolas_df = escolas_df.withColumn(col_name, col(col_name).cast('integer'))\n\n# Convert dates to yyyy-MM-dd format\ndate_columns = [\n    \"data_do_ultimo_pagamento\",\n    \"ultima_ordems\",\n    \"data_da_ultima_remocao\",\n    \"data_da_ultima_oferta\",\n    \"data_da_renovacao_2024\",\n    \"data_da_renovacao_2025\"\n]\n\nfor col_name in date_columns:\n    escolas_df = escolas_df.withColumn(col_name, date_format(col(col_name), \"yyyy-MM-dd\"))\n\n# Show the DataFrame to verify the data\nescolas_df.show(truncate=False)\n\n# Convert DataFrame to Pandas for easier manipulation\nescolas_pd = escolas_df.toPandas()\n\n# HubSpot API details\nHubSpot_API_KEY = \"la-la-land\"\nHubSpot_API_URL = \"<https://api.hubapi.com/crm/v3/objects/companies/>\"\n\n# Function to get a company in HubSpot CRM by codent\ndef get_company_by_codent(codent):\n    headers = {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": f\"Bearer {HubSpot_API_KEY}\"\n    }\n    data = {\n        \"filters\": [\n            {\n                \"propertyName\": \"codent\",\n                \"operator\": \"EQ\",\n                \"value\": codent\n            }\n        ],\n        \"limit\": 1,\n        \"properties\": [\"codent\"]\n    }\n\n    response = <http://requests.post|requests.post>(HubSpot_API_URL + \"search\", headers=headers, data=json.dumps(data))\n    response.raise_for_status()\n    results = response.json().get('results', [])\n    if results:\n        return results[0]\n    return None\n\n# Function to update company properties in HubSpot CRM\ndef update_company_properties(company_id, properties):\n    url = f\"{HubSpot_API_URL}{company_id}\"\n    headers = {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": f\"Bearer {HubSpot_API_KEY}\"\n    }\n\n    # Ensure numeric values are integers and not strings\n    serializable_properties = {}\n    for key, value in properties.items():\n        if pd.isna(value):\n            value = None  # Clear null values\n        elif isinstance(value, (int, float)):\n            serializable_properties[key] = int(value)  # Send as integer\n        elif isinstance(value, str):\n            serializable_properties[key] = value\n\n    data = {\n        \"properties\": serializable_properties\n    }\n\n    print(f\"Updating {company_id} with data: {json.dumps(data, indent=2)}\")\n\n    response = requests.patch(url, headers=headers, data=json.dumps(data))\n    response.raise_for_status()\n    return response.json()\n\n# Process each row of the DataFrame and update company properties in HubSpot\nfor index, row in escolas_pd.iterrows():\n    codent = row['codent']\n    company = get_company_by_codent(codent)\n\n    if company:\n        company_id = company['id']\n        properties = <http://row.to|row.to>_dict()  # Convert the row to a dictionary of properties\n        properties = {k: v for k, v in properties.items() if v is not None}  # Remove null values\n\n        try:\n            response = update_company_properties(company_id, properties)\n            print(f\"Company {company_id} with codent {codent} updated successfully.\")\n        except requests.HTTPError as e:\n            print(f\"Failed to update company {company_id} with codent {codent}.\\nError: {e}\")\n    else:\n        print(f\"No company found with codent {codent}\")\n\nprint(\"Process completed.\")"
  },
  {
    "poster": {
      "poster_name": "Alex Ratiu",
      "poster_handle": "alex.ratiu"
    },
    "time_stamp": "2024-07-29 11:43:00",
    "text": "Hello, I have a question regarding Export Contacts, by exporting the contacts in bulk, let's say 10k on contacts is it possible to export as well the activities? (emails, Deal History, notes, tasks, meetings, calls)?"
  },
  {
    "poster": {
      "poster_name": "Alex Ratiu",
      "poster_handle": "alex.ratiu"
    },
    "time_stamp": "2024-07-29 15:02:14",
    "text": "I have a question regarding the email, is there a way to get through API the contact email, these emails are not marketing emails. As I see are custom email send from HubSpot (probably some third party inbox) .\nThese emails are on the contact level at activities as email. I haven't yet found a way to find any other emails other than the marketing one.\n\nCan someone provide me some guidance?",
    "reply_count": 4,
    "reply_users_count": 2,
    "replies": [
      {
        "time_stamp": "2024-07-29 15:21:29"
      },
      {
        "time_stamp": "2024-07-29 23:42:34"
      },
      {
        "time_stamp": "2024-07-29 23:43:31"
      },
      {
        "time_stamp": "2024-07-30 15:27:06"
      }
    ]
  },
  {
    "poster": {
      "poster_name": "Michal Wezykowski",
      "poster_handle": "michal.wezykowski"
    },
    "time_stamp": "2024-07-29 15:21:29",
    "text": "That's a good starting point, happy coding  <https://developers.HubSpot.com/docs/api/crm/email|https://developers.HubSpot.com/docs/api/crm/email>"
  },
  {
    "poster": {
      "poster_name": "Alex Ratiu",
      "poster_handle": "alex.ratiu"
    },
    "time_stamp": "2024-07-29 23:42:34",
    "text": "Thank you!"
  },
  {
    "poster": {
      "poster_name": "Alex Ratiu",
      "poster_handle": "alex.ratiu"
    },
    "time_stamp": "2024-07-29 23:43:31",
    "text": "Do you know if an email can be attached back as an activity, in case of a migration?\nFor example, if I want to \"export\" these sent emails and to attach the email back to the activity in the new HubSpot account?"
  },
  {
    "poster": {
      "poster_name": "Shehara Thrimavithana",
      "poster_handle": "shehara"
    },
    "time_stamp": "2024-07-30 00:03:45",
    "text": "I want to send an email for the verification process of a contact's email after contact creation. However, my portal doesn't have workflow access. I want to send that confirmation email through the API. I tried 'transactional emails', but it only works for HubSpot users. How can I send 'transactional emails' without using workflows and without HubSpot users?",
    "reply_count": 3,
    "reply_users_count": 2,
    "replies": [
      {
        "time_stamp": "2024-07-30 07:33:13"
      },
      {
        "time_stamp": "2024-07-30 20:57:53"
      },
      {
        "time_stamp": "2024-07-31 10:56:54"
      }
    ]
  }
]